<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `Assembler` struct in crate `dynasmrt`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, Assembler">

    <title>dynasmrt::x64::Assembler - Rust</title>

    <link rel="stylesheet" type="text/css" href="../../normalize.css">
    <link rel="stylesheet" type="text/css" href="../../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../../main.css">
    

    
    
</head>
<body class="rustdoc struct">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'>Struct Assembler</p><div class="block items"><ul><li><a href="#methods">Methods</a></li><li><a href="#implementations">Trait Implementations</a></li></ul></div><p class='location'><a href='../index.html'>dynasmrt</a>::<wbr><a href='index.html'>x64</a></p><script>window.sidebarCurrent = {name: 'Assembler', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content">
<h1 class='fqn'><span class='in-band'>Struct <a href='../index.html'>dynasmrt</a>::<wbr><a href='index.html'>x64</a>::<wbr><a class="struct" href=''>Assembler</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a class='srclink' href='../../src/dynasmrt/x64.rs.html#23-48' title='goto source code'>[src]</a></span></h1>
<pre class='rust struct'>pub struct Assembler { /* fields omitted */ }</pre><div class='docblock'><p>This struct is an implementation of a dynasm runtime. It supports incremental
compilation as well as multithreaded execution with simultaneous compilation.
Its implementation ensures that no memory is writeable and executable at the
same time.</p>
</div><h2 id='methods'>Methods</h2><h3 class='impl'><span class='in-band'><code>impl <a class="struct" href="../../dynasmrt/x64/struct.Assembler.html" title="struct dynasmrt::x64::Assembler">Assembler</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/dynasmrt/x64.rs.html#50-245' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.new' class="method"><span id='new.v' class='invisible'><code>fn <a href='#method.new' class='fnname'>new</a>() -&gt; <a class="struct" href="../../dynasmrt/x64/struct.Assembler.html" title="struct dynasmrt::x64::Assembler">Assembler</a></code></span></h4>
<div class='docblock'><p>Create a new <code>Assembler</code> instance</p>
</div><h4 id='method.new_dynamic_label' class="method"><span id='new_dynamic_label.v' class='invisible'><code>fn <a href='#method.new_dynamic_label' class='fnname'>new_dynamic_label</a>(&amp;mut self) -&gt; <a class="struct" href="../../dynasmrt/struct.DynamicLabel.html" title="struct dynasmrt::DynamicLabel">DynamicLabel</a></code></span></h4>
<div class='docblock'><p>Create a new dynamic label that can be referenced and defined.</p>
</div><h4 id='method.alter' class="method"><span id='alter.v' class='invisible'><code>fn <a href='#method.alter' class='fnname'>alter</a>&lt;F&gt;(&amp;mut self, f: F) <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;F: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/trait.FnOnce.html" title="trait core::ops::FnOnce">FnOnce</a>(&amp;mut <a class="struct" href="../../dynasmrt/x64/struct.AssemblyModifier.html" title="struct dynasmrt::x64::AssemblyModifier">AssemblyModifier</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">()</a>,&nbsp;</span></code></span></h4>
<div class='docblock'><p>To allow already committed code to be altered, this method allows modification
of the internal ExecutableBuffer directly. When this method is called, all
data will be committed and access to the internal <code>ExecutableBuffer</code> will be locked.
The passed function will then be called with an <code>AssemblyModifier</code> as argument.
Using this <code>AssemblyModifier</code> changes can be made to the committed code.
After this function returns, any labels in these changes will be resolved
and the <code>ExecutableBuffer</code> will be unlocked again.</p>
</div><h4 id='method.alter_uncommitted' class="method"><span id='alter_uncommitted.v' class='invisible'><code>fn <a href='#method.alter_uncommitted' class='fnname'>alter_uncommitted</a>&lt;F&gt;(&amp;mut self, f: F) <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;F: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/trait.FnOnce.html" title="trait core::ops::FnOnce">FnOnce</a>(&amp;mut <a class="struct" href="../../dynasmrt/x64/struct.UncommittedModifier.html" title="struct dynasmrt::x64::UncommittedModifier">UncommittedModifier</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">()</a>,&nbsp;</span></code></span></h4>
<div class='docblock'><p>Similar to <code>Assembler::alter</code>, this method allows modification of the yet to be
committed assembing buffer. Note that it is not possible to use labels in this
context, and overriding labels will cause corruption when the assembler tries to
resolve the labels at commit time.</p>
</div><h4 id='method.commit' class="method"><span id='commit.v' class='invisible'><code>fn <a href='#method.commit' class='fnname'>commit</a>(&amp;mut self)</code></span></h4>
<div class='docblock'><p>Commit the assembled code from a temporary buffer to the executable buffer.
This method requires write access to the execution buffer and therefore
has to obtain a lock on the datastructure. When this method is called, all
labels will be resolved, and the result can no longer be changed.</p>
</div><h4 id='method.finalize' class="method"><span id='finalize.v' class='invisible'><code>fn <a href='#method.finalize' class='fnname'>finalize</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../dynasmrt/struct.ExecutableBuffer.html" title="struct dynasmrt::ExecutableBuffer">ExecutableBuffer</a>, <a class="struct" href="../../dynasmrt/x64/struct.Assembler.html" title="struct dynasmrt::x64::Assembler">Assembler</a>&gt;</code></span></h4>
<div class='docblock'><p>Consumes the assembler to return the internal ExecutableBuffer. This
method will only fail if an <code>Executor</code> currently holds a lock on the datastructure,
in which case it will return itself.</p>
</div><h4 id='method.reader' class="method"><span id='reader.v' class='invisible'><code>fn <a href='#method.reader' class='fnname'>reader</a>(&amp;self) -&gt; <a class="struct" href="../../dynasmrt/struct.Executor.html" title="struct dynasmrt::Executor">Executor</a></code></span></h4>
<div class='docblock'><p>Creates a read-only reference to the internal <code>ExecutableBuffer</code> that must
be locked to access it. Multiple of such read-only locks can be obtained
at the same time, but as long as they are alive they will block any <code>self.commit()</code>
calls.</p>
</div></div><h2 id='implementations'>Trait Implementations</h2><h3 class='impl'><span class='in-band'><code>impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> for <a class="struct" href="../../dynasmrt/x64/struct.Assembler.html" title="struct dynasmrt::x64::Assembler">Assembler</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/dynasmrt/x64.rs.html#22' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.fmt' class="method"><span id='fmt.v' class='invisible'><code>fn <a href='https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt' class='fnname'>fmt</a>(&amp;self, __arg_0: &amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/core/fmt/struct.Formatter.html" title="struct core::fmt::Formatter">Formatter</a>) -&gt; <a class="type" href="https://doc.rust-lang.org/nightly/core/fmt/type.Result.html" title="type core::fmt::Result">Result</a></code></span></h4>
<div class='docblock'><p>Formats the value using the given formatter.</p>
</div></div><h3 class='impl'><span class='in-band'><code>impl&lt;'a&gt; <a class="trait" href="../../dynasmrt/trait.DynasmApi.html" title="trait dynasmrt::DynasmApi">DynasmApi</a>&lt;'a&gt; for <a class="struct" href="../../dynasmrt/x64/struct.Assembler.html" title="struct dynasmrt::x64::Assembler">Assembler</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/dynasmrt/x64.rs.html#247-257' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.offset' class="method"><span id='offset.v' class='invisible'><code>fn <a href='../../dynasmrt/trait.DynasmApi.html#tymethod.offset' class='fnname'>offset</a>(&amp;self) -&gt; <a class="struct" href="../../dynasmrt/struct.AssemblyOffset.html" title="struct dynasmrt::AssemblyOffset">AssemblyOffset</a></code></span></h4>
<div class='docblock'><p>Report the current offset into the assembling target</p>
</div><h4 id='method.push' class="method"><span id='push.v' class='invisible'><code>fn <a href='../../dynasmrt/trait.DynasmApi.html#tymethod.push' class='fnname'>push</a>(&amp;mut self, value: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>)</code></span></h4>
<div class='docblock'><p>Push a byte into the assembling target</p>
</div><h4 id='method.push_i8' class="method"><span id='push_i8.v' class='invisible'><code>fn <a href='../../dynasmrt/trait.DynasmApi.html#method.push_i8' class='fnname'>push_i8</a>(&amp;mut self, value: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i8.html">i8</a>)</code></span></h4>
<div class='docblock'><p>Push a signed byte into the assembling target</p>
</div><h4 id='method.push_i16' class="method"><span id='push_i16.v' class='invisible'><code>fn <a href='../../dynasmrt/trait.DynasmApi.html#method.push_i16' class='fnname'>push_i16</a>(&amp;mut self, value: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i16.html">i16</a>)</code></span></h4>
<div class='docblock'><p>Push a signed word into the assembling target</p>
</div><h4 id='method.push_i32' class="method"><span id='push_i32.v' class='invisible'><code>fn <a href='../../dynasmrt/trait.DynasmApi.html#method.push_i32' class='fnname'>push_i32</a>(&amp;mut self, value: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>)</code></span></h4>
<div class='docblock'><p>Push a signed doubleword into the assembling target</p>
</div><h4 id='method.push_i64' class="method"><span id='push_i64.v' class='invisible'><code>fn <a href='../../dynasmrt/trait.DynasmApi.html#method.push_i64' class='fnname'>push_i64</a>(&amp;mut self, value: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i64.html">i64</a>)</code></span></h4>
<div class='docblock'><p>Push a signed quadword into the assembling target</p>
</div><h4 id='method.runtime_error' class="method"><span id='runtime_error.v' class='invisible'><code>fn <a href='../../dynasmrt/trait.DynasmApi.html#method.runtime_error' class='fnname'>runtime_error</a>(&amp;self, msg: &amp;'static <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>) -&gt; !</code></span></h4>
<div class='docblock'><p>This function is called in when a runtime error has to be generated. It panics.</p>
</div></div><h3 class='impl'><span class='in-band'><code>impl&lt;'a&gt; <a class="trait" href="../../dynasmrt/trait.DynasmLabelApi.html" title="trait dynasmrt::DynasmLabelApi">DynasmLabelApi</a>&lt;'a&gt; for <a class="struct" href="../../dynasmrt/x64/struct.Assembler.html" title="struct dynasmrt::x64::Assembler">Assembler</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/dynasmrt/x64.rs.html#259-333' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.align' class="method"><span id='align.v' class='invisible'><code>fn <a href='../../dynasmrt/trait.DynasmLabelApi.html#tymethod.align' class='fnname'>align</a>(&amp;mut self, alignment: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>)</code></span></h4>
<div class='docblock'><p>Push nops until the assembling target end is aligned to the given alignment</p>
</div><h4 id='method.global_label' class="method"><span id='global_label.v' class='invisible'><code>fn <a href='../../dynasmrt/trait.DynasmLabelApi.html#tymethod.global_label' class='fnname'>global_label</a>(&amp;mut self, name: &amp;'static <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>)</code></span></h4>
<div class='docblock'><p>Record the definition of a global label</p>
</div><h4 id='method.global_reloc' class="method"><span id='global_reloc.v' class='invisible'><code>fn <a href='../../dynasmrt/trait.DynasmLabelApi.html#tymethod.global_reloc' class='fnname'>global_reloc</a>(&amp;mut self, name: &amp;'static <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>, size: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>)</code></span></h4>
<div class='docblock'><p>Record a relocation spot for a reference to a global label</p>
</div><h4 id='method.dynamic_label' class="method"><span id='dynamic_label.v' class='invisible'><code>fn <a href='../../dynasmrt/trait.DynasmLabelApi.html#tymethod.dynamic_label' class='fnname'>dynamic_label</a>(&amp;mut self, id: <a class="struct" href="../../dynasmrt/struct.DynamicLabel.html" title="struct dynasmrt::DynamicLabel">DynamicLabel</a>)</code></span></h4>
<div class='docblock'><p>Record the definition of a dynamic label</p>
</div><h4 id='method.dynamic_reloc' class="method"><span id='dynamic_reloc.v' class='invisible'><code>fn <a href='../../dynasmrt/trait.DynasmLabelApi.html#tymethod.dynamic_reloc' class='fnname'>dynamic_reloc</a>(&amp;mut self, id: <a class="struct" href="../../dynasmrt/struct.DynamicLabel.html" title="struct dynasmrt::DynamicLabel">DynamicLabel</a>, size: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>)</code></span></h4>
<div class='docblock'><p>Record a relocation spot for a reference to a dynamic label</p>
</div><h4 id='method.local_label' class="method"><span id='local_label.v' class='invisible'><code>fn <a href='../../dynasmrt/trait.DynasmLabelApi.html#tymethod.local_label' class='fnname'>local_label</a>(&amp;mut self, name: &amp;'static <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>)</code></span></h4>
<div class='docblock'><p>Record the definition of a local label</p>
</div><h4 id='method.forward_reloc' class="method"><span id='forward_reloc.v' class='invisible'><code>fn <a href='../../dynasmrt/trait.DynasmLabelApi.html#tymethod.forward_reloc' class='fnname'>forward_reloc</a>(&amp;mut self, name: &amp;'static <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>, size: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>)</code></span></h4>
<div class='docblock'><p>Record a relocation spot for a forward reference to a local label</p>
</div><h4 id='method.backward_reloc' class="method"><span id='backward_reloc.v' class='invisible'><code>fn <a href='../../dynasmrt/trait.DynasmLabelApi.html#tymethod.backward_reloc' class='fnname'>backward_reloc</a>(&amp;mut self, name: &amp;'static <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>, size: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>)</code></span></h4>
<div class='docblock'><p>Record a relocation spot for a backward reference to a local label</p>
</div></div><h3 class='impl'><span class='in-band'><code>impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/trait.Extend.html" title="trait core::iter::traits::Extend">Extend</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt; for <a class="struct" href="../../dynasmrt/x64/struct.Assembler.html" title="struct dynasmrt::x64::Assembler">Assembler</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/dynasmrt/x64.rs.html#335-340' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.extend' class="method"><span id='extend.v' class='invisible'><code>fn <a href='https://doc.rust-lang.org/nightly/core/iter/traits/trait.Extend.html#tymethod.extend' class='fnname'>extend</a>&lt;T&gt;(&amp;mut self, iter: T) <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/trait.IntoIterator.html" title="trait core::iter::traits::IntoIterator">IntoIterator</a>&lt;Item = <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;,&nbsp;</span></code></span></h4>
<div class='docblock'><p>Extends a collection with the contents of an iterator. <a href="https://doc.rust-lang.org/nightly/core/iter/traits/trait.Extend.html#tymethod.extend">Read more</a></p>
</div></div><h3 class='impl'><span class='in-band'><code>impl&lt;'a&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/trait.Extend.html" title="trait core::iter::traits::Extend">Extend</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt; for <a class="struct" href="../../dynasmrt/x64/struct.Assembler.html" title="struct dynasmrt::x64::Assembler">Assembler</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/dynasmrt/x64.rs.html#342-347' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.extend-1' class="method"><span id='extend.v-1' class='invisible'><code>fn <a href='https://doc.rust-lang.org/nightly/core/iter/traits/trait.Extend.html#tymethod.extend' class='fnname'>extend</a>&lt;T&gt;(&amp;mut self, iter: T) <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/trait.IntoIterator.html" title="trait core::iter::traits::IntoIterator">IntoIterator</a>&lt;Item = &amp;'a <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;,&nbsp;</span></code></span></h4>
<div class='docblock'><p>Extends a collection with the contents of an iterator. <a href="https://doc.rust-lang.org/nightly/core/iter/traits/trait.Extend.html#tymethod.extend">Read more</a></p>
</div></div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../../";
        window.currentCrate = "dynasmrt";
    </script>
    <script src="../../jquery.js"></script>
    <script src="../../main.js"></script>
    <script defer src="../../search-index.js"></script>
</body>
</html>